import { keys as ProteusKeys, session as ProteusSession } from '@wireapp/proteus';
import { CRUDEngine } from '@wireapp/store-engine';
export declare enum CRUDStoreKeys {
    LOCAL_IDENTITY = "local_identity"
}
export declare enum CrudStoreStores {
    LOCAL_IDENTITY = "keys",
    PRE_KEYS = "prekeys",
    SESSIONS = "sessions"
}
export declare class CryptoboxCRUDStore implements ProteusSession.PreKeyStore {
    private readonly engine;
    static readonly KEYS: typeof CRUDStoreKeys;
    static readonly STORES: typeof CrudStoreStores;
    constructor(engine: CRUDEngine);
    private from_store;
    private to_store;
    delete_all(): Promise<boolean>;
    /**
     * Deletes a specified PreKey.
     * @returns Promise<string> Resolves with the "ID" from the record, which has been deleted.
     */
    delete_prekey(prekey_id: number): Promise<number>;
    /**
     * Loads the local identity.
     * @returns Promise<ProteusKeys.IdentityKeyPair> Resolves with the "key pair" from the local identity.
     */
    load_identity(): Promise<ProteusKeys.IdentityKeyPair | undefined>;
    /**
     * Loads and deserializes a specified PreKey.
     * @returns Promise<ProteusKeys.PreKey> Resolves with the the specified "PreKey".
     */
    load_prekey(prekey_id: number): Promise<ProteusKeys.PreKey | undefined>;
    /**
     * Loads all available PreKeys.
     */
    load_prekeys(): Promise<ProteusKeys.PreKey[]>;
    /**
     * Saves the local identity.
     * @returns Promise<string> Resolves with the "fingerprint" from the saved local identity.
     */
    save_identity(identity: ProteusKeys.IdentityKeyPair): Promise<ProteusKeys.IdentityKeyPair>;
    /**
     * Saves the serialised format of a specified PreKey.
     * @returns Promise<string> Resolves with the "ID" from the saved PreKey record.
     */
    save_prekey(pre_key: ProteusKeys.PreKey): Promise<ProteusKeys.PreKey>;
    /**
     * Saves the serialised formats from a batch of PreKeys.
     */
    save_prekeys(pre_keys: ProteusKeys.PreKey[]): Promise<ProteusKeys.PreKey[]>;
    /**
     * Saves a specified session.
     * @returns Promise<ProteusSession.Session> Resolves with the saved session.
     */
    create_session(session_id: string, session: ProteusSession.Session): Promise<ProteusSession.Session>;
    /**
     * Loads a specified session.
     * @returns Promise<ProteusSession.Session> Resolves with the the specified "session".
     */
    read_session(identity: ProteusKeys.IdentityKeyPair, session_id: string): Promise<ProteusSession.Session>;
    read_sessions(identity: ProteusKeys.IdentityKeyPair): Promise<Record<string, ProteusSession.Session>>;
    update_session(session_id: string, session: ProteusSession.Session): Promise<ProteusSession.Session>;
    /**
     * Deletes a specified session.
     * @returns Promise<string> Resolves with the "ID" from the record, which has been deleted.
     */
    delete_session(session_id: string): Promise<string>;
}
