/*! @wireapp/cbor v4.5.4 */
var CBOR=function(e){var t={};function r(s){if(t[s])return t[s].exports;var i=t[s]={i:s,l:!1,exports:{}};return e[s].call(i.exports,i,i.exports,r),i.l=!0,i.exports}return r.m=e,r.c=t,r.d=function(e,t,s){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:s})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var s=Object.create(null);if(r.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)r.d(s,i,function(t){return e[t]}.bind(null,i));return s},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=3)}([function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});class s{static major(e){switch(e){case s.ARRAY:return 4;case s.BOOL:case s.BREAK:return 7;case s.BYTES:return 2;case s.FLOAT16:case s.FLOAT32:case s.FLOAT64:return 7;case s.UINT8:case s.UINT16:case s.UINT32:case s.UINT64:return 0;case s.INT8:case s.INT16:case s.INT32:case s.INT64:return 1;case s.NULL:return 7;case s.OBJECT:return 5;case s.TAGGED:return 6;case s.TEXT:return 3;case s.UNDEFINED:return 7;default:throw new TypeError("Invalid CBOR type")}}}t.Type=s,s.ARRAY=1,s.BOOL=2,s.BREAK=3,s.BYTES=4,s.FLOAT16=5,s.FLOAT32=6,s.FLOAT64=7,s.UINT8=8,s.UINT16=9,s.UINT32=10,s.UINT64=11,s.INT8=12,s.INT16=13,s.INT32=14,s.INT64=15,s.NULL=16,s.OBJECT=17,s.TAGGED=18,s.TEXT=19,s.UNDEFINED=20},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});class s extends Error{constructor(e){super(e),this.message=e,Object.setPrototypeOf(this,new.target.prototype)}}t.BaseError=s},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=r(1);class i extends s.BaseError{constructor(e,t){super(e),this.message=e,this.extra=t,Object.setPrototypeOf(this,new.target.prototype)}}t.DecodeError=i,i.INT_OVERFLOW="Integer overflow",i.INVALID_TYPE="Invalid type",i.TOO_LONG="Field too long",i.TOO_NESTED="Object nested too deep",i.UNEXPECTED_EOF="Unexpected end-of-buffer",i.UNEXPECTED_TYPE="Unexpected type"},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=r(1);t.BaseError=s.BaseError;var i=r(2);t.DecodeError=i.DecodeError;var n=r(4);t.Decoder=n.Decoder;var _=r(5);t.Encoder=_.Encoder;var u=r(0);t.Type=u.Type},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=r(2),i=r(0),n={max_array_length:1e3,max_bytes_length:5242880,max_nesting:16,max_object_size:1e3,max_text_length:5242880};class _{constructor(e,t=n){this.buffer=e,this.config=t,this.view=new DataView(this.buffer)}static _check_overflow(e,t){if(e>t)throw new s.DecodeError(s.DecodeError.INT_OVERFLOW);return e}_advance(e){this.view=new DataView(this.buffer,this.view.byteOffset+e)}get _available(){return this.view.byteLength}_read(e,t){if(this._available<e)throw new s.DecodeError(s.DecodeError.UNEXPECTED_EOF);const r=t();return this._advance(e),r}_u8(){return this._read(1,()=>this.view.getUint8(0))}_u16(){return this._read(2,()=>this.view.getUint16(0))}_u32(){return this._read(4,()=>this.view.getUint32(0))}_u64(){return this._read(8,()=>this.view.getUint32(0)*Math.pow(2,32)+this.view.getUint32(4))}_f32(){return this._read(4,()=>this.view.getFloat32(0))}_f64(){return this._read(8,()=>this.view.getFloat64(0))}_read_length(e){if(0<=e&&e<=23)return e;switch(e){case 24:return this._u8();case 25:return this._u16();case 26:return this._u32();case 27:return _._check_overflow(this._u64(),Number.MAX_SAFE_INTEGER)}throw new s.DecodeError(s.DecodeError.UNEXPECTED_TYPE)}_bytes(e,t){const r=this._read_length(e);if(r>t)throw new s.DecodeError(s.DecodeError.TOO_LONG);return this._read(r,()=>this.buffer.slice(this.view.byteOffset,this.view.byteOffset+r))}_read_type_info(){const e=this._u8(),t=31&e;switch((224&e)>>5){case 0:if(0<=t&&t<=24)return[i.Type.UINT8,t];switch(t){case 25:return[i.Type.UINT16,t];case 26:return[i.Type.UINT32,t];case 27:return[i.Type.UINT64,t];default:throw new s.DecodeError(s.DecodeError.INVALID_TYPE)}case 1:if(0<=t&&t<=24)return[i.Type.INT8,t];switch(t){case 25:return[i.Type.INT16,t];case 26:return[i.Type.INT32,t];case 27:return[i.Type.INT64,t];default:throw new s.DecodeError(s.DecodeError.INVALID_TYPE)}case 2:return[i.Type.BYTES,t];case 3:return[i.Type.TEXT,t];case 4:return[i.Type.ARRAY,t];case 5:return[i.Type.OBJECT,t];case 7:switch(t){case 20:case 21:return[i.Type.BOOL,t];case 22:return[i.Type.NULL,t];case 23:return[i.Type.UNDEFINED,t];case 25:return[i.Type.FLOAT16,t];case 26:return[i.Type.FLOAT32,t];case 27:return[i.Type.FLOAT64,t];case 31:return[i.Type.BREAK,t]}}throw new s.DecodeError(s.DecodeError.INVALID_TYPE)}_type_info_with_assert(e){const[t,r]=this._read_type_info();if(Array.isArray(e)||(e=[e]),!e.some(e=>t===e))throw new s.DecodeError(s.DecodeError.UNEXPECTED_TYPE,[t,r]);return[t,r]}_read_unsigned(e,t){switch(e){case i.Type.UINT8:return t<=23?t:this._u8();case i.Type.UINT16:return this._u16();case i.Type.UINT32:return this._u32();case i.Type.UINT64:return this._u64()}throw new s.DecodeError(s.DecodeError.UNEXPECTED_TYPE,[e,t])}_read_signed(e,t,r){switch(t){case i.Type.INT8:return r<=23?-1-r:-1-_._check_overflow(this._u8(),e);case i.Type.INT16:return-1-_._check_overflow(this._u16(),e);case i.Type.INT32:return-1-_._check_overflow(this._u32(),e);case i.Type.INT64:return-1-_._check_overflow(this._u64(),e);case i.Type.UINT8:case i.Type.UINT16:case i.Type.UINT32:case i.Type.UINT64:return _._check_overflow(this._read_unsigned(t,r),e)}throw new s.DecodeError(s.DecodeError.UNEXPECTED_TYPE,[t,r])}_skip_until_break(e){for(;;){const[t,r]=this._read_type_info();if(t===i.Type.BREAK)return;if(t!==e||31===r)throw new s.DecodeError(s.DecodeError.UNEXPECTED_TYPE);const n=this._read_length(r);this._advance(n)}}_skip_value(e){if(0===e)throw new s.DecodeError(s.DecodeError.TOO_NESTED);const[t,r]=this._read_type_info();let n;switch(t){case i.Type.UINT8:case i.Type.UINT16:case i.Type.UINT32:case i.Type.UINT64:case i.Type.INT8:case i.Type.INT16:case i.Type.INT32:case i.Type.INT64:return this._read_length(r),!0;case i.Type.BOOL:case i.Type.NULL:case i.Type.UNDEFINED:return!0;case i.Type.BREAK:return!1;case i.Type.FLOAT16:return this._advance(2),!0;case i.Type.FLOAT32:return this._advance(4),!0;case i.Type.FLOAT64:return this._advance(8),!0;case i.Type.BYTES:case i.Type.TEXT:return 31===r?(this._skip_until_break(t),!0):(n=this._read_length(r),this._advance(n),!0);case i.Type.ARRAY:case i.Type.OBJECT:if(31===r){for(;this._skip_value(e-1););return!0}for(n=this._read_length(r);n--;)this._skip_value(e-1);return!0;default:return!1}}u8(){const[e,t]=this._type_info_with_assert([i.Type.UINT8]);return this._read_unsigned(e,t)}u16(){const[e,t]=this._type_info_with_assert([i.Type.UINT8,i.Type.UINT16]);return this._read_unsigned(e,t)}u32(){const[e,t]=this._type_info_with_assert([i.Type.UINT8,i.Type.UINT16,i.Type.UINT32]);return this._read_unsigned(e,t)}u64(){const[e,t]=this._type_info_with_assert([i.Type.UINT8,i.Type.UINT16,i.Type.UINT32,i.Type.UINT64]);return this._read_unsigned(e,t)}i8(){const[e,t]=this._type_info_with_assert([i.Type.INT8,i.Type.UINT8]);return this._read_signed(127,e,t)}i16(){const[e,t]=this._type_info_with_assert([i.Type.INT8,i.Type.INT16,i.Type.UINT8,i.Type.UINT16]);return this._read_signed(32767,e,t)}i32(){const[e,t]=this._type_info_with_assert([i.Type.INT8,i.Type.INT16,i.Type.INT32,i.Type.UINT8,i.Type.UINT16,i.Type.UINT32]);return this._read_signed(2147483647,e,t)}i64(){const[e,t]=this._type_info_with_assert([i.Type.INT8,i.Type.INT16,i.Type.INT32,i.Type.INT64,i.Type.UINT8,i.Type.UINT16,i.Type.UINT32,i.Type.UINT64]);return this._read_signed(Number.MAX_SAFE_INTEGER,e,t)}unsigned(){return this.u64()}int(){return this.i64()}f16(){this._type_info_with_assert(i.Type.FLOAT16);const e=this._u16(),t=e>>10&31,r=1023&e,s=(e,t)=>e*Math.pow(2,t);let n;switch(t){case 0:n=s(r,-24);break;case 31:n=0===r?Number.POSITIVE_INFINITY:Number.NaN;break;default:n=s(r+1024,t-25)}return 32768&e?-n:n}f32(){return this._type_info_with_assert(i.Type.FLOAT32),this._f32()}f64(){return this._type_info_with_assert(i.Type.FLOAT64),this._f64()}bool(){switch(this._type_info_with_assert(i.Type.BOOL)[1]){case 20:return!1;case 21:return!0;default:throw new s.DecodeError(s.DecodeError.UNEXPECTED_TYPE)}}bytes(){const e=this._type_info_with_assert(i.Type.BYTES)[1];if(31===e)throw new s.DecodeError(s.DecodeError.UNEXPECTED_TYPE);return this._bytes(e,this.config.max_bytes_length)}text(){const e=this._type_info_with_assert(i.Type.TEXT)[1];if(31===e)throw new s.DecodeError(s.DecodeError.UNEXPECTED_TYPE);const t=new Uint8Array(this._bytes(e,this.config.max_text_length)).reduce((e,t)=>e+String.fromCharCode(t),"");return decodeURIComponent(escape(t))}optional(e){try{return e()}catch(e){if(e instanceof s.DecodeError&&e.extra){const t=e.extra[0];if(t===i.Type.NULL)return null;if(t===i.Type.UNDEFINED)return}throw e}}array(){const e=this._type_info_with_assert(i.Type.ARRAY)[1];if(31===e)throw new s.DecodeError(s.DecodeError.UNEXPECTED_TYPE);const t=this._read_length(e);if(t>this.config.max_array_length)throw new s.DecodeError(s.DecodeError.TOO_LONG);return t}object(){const e=this._type_info_with_assert(i.Type.OBJECT)[1];if(31===e)throw new s.DecodeError(s.DecodeError.UNEXPECTED_TYPE);const t=this._read_length(e);if(t>this.config.max_object_size)throw new s.DecodeError(s.DecodeError.TOO_LONG);return t}skip(){return this._skip_value(this.config.max_nesting)}}t.Decoder=_},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=r(0);t.Encoder=class{constructor(){this.buffer=new ArrayBuffer(4),this.view=new DataView(this.buffer)}get_buffer(){return this.buffer.slice(0,this.view.byteOffset)}_new_buffer_length(e){return~~Math.max(1.5*this.buffer.byteLength,this.buffer.byteLength+e)}_grow_buffer(e){const t=this._new_buffer_length(e),r=new ArrayBuffer(t);new Uint8Array(r).set(new Uint8Array(this.buffer)),this.buffer=r,this.view=new DataView(this.buffer,this.view.byteOffset)}_ensure(e){if(this.view.byteLength<e)return this._grow_buffer(e)}_advance(e){this.view=new DataView(this.buffer,this.view.byteOffset+e)}_write(e,t){return this._ensure(e),t(),this._advance(e)}_write_type_and_len(e,t){const r=s.Type.major(e)<<5;if(0<=t&&t<=23)return this._u8(r|t);if(24<=t&&t<=255)return this._u8(24|r),this._u8(t);if(256<=t&&t<=65535)return this._u8(25|r),this._u16(t);if(65536<=t&&t<=4294967295)return this._u8(26|r),this._u32(t);if(t<=Number.MAX_SAFE_INTEGER)return this._u8(27|r),this._u64(t);throw new RangeError("Invalid size for CBOR object")}_u8(e){return this._write(1,()=>this.view.setUint8(0,e))}_u16(e){return this._write(2,()=>this.view.setUint16(0,e))}_u32(e){return this._write(4,()=>this.view.setUint32(0,e))}_u64(e){const t=e%Math.pow(2,32),r=(e-t)/Math.pow(2,32);return this._write(8,()=>(this.view.setUint32(0,r),this.view.setUint32(4,t)))}_f32(e){return this._write(4,()=>this.view.setFloat32(0,e))}_f64(e){return this._write(8,()=>this.view.setFloat64(0,e))}_bytes(e){const t=e.byteLength;return this._ensure(t),new Uint8Array(this.buffer,this.view.byteOffset).set(e),this._advance(t)}u8(e){if(0<=e&&e<=23)this._u8(e);else{if(!(24<=e&&e<=255))throw new RangeError("Invalid u8");this._u8(24),this._u8(e)}return this}u16(e){if(0<=e&&e<=23)this._u8(e);else if(24<=e&&e<=255)this._u8(24),this._u8(e);else{if(!(256<=e&&e<=65535))throw new RangeError("Invalid u16");this._u8(25),this._u16(e)}return this}u32(e){if(0<=e&&e<=23)this._u8(e);else if(24<=e&&e<=255)this._u8(24),this._u8(e);else if(256<=e&&e<=65535)this._u8(25),this._u16(e);else{if(!(65536<=e&&e<=4294967295))throw new RangeError("Invalid u32");this._u8(26),this._u32(e)}return this}u64(e){if(0<=e&&e<=23)this._u8(e);else if(24<=e&&e<=255)this._u8(24),this._u8(e);else if(256<=e&&e<=65535)this._u8(25),this._u16(e);else if(65536<=e&&e<=4294967295)this._u8(26),this._u32(e);else{if(!(e<=Number.MAX_SAFE_INTEGER))throw new RangeError("Invalid unsigned integer");this._u8(27),this._u64(e)}return this}i8(e){if(e>=0)return this._u8(e),this;if(0<=(e=-1-e)&&e<=23)this._u8(32|e);else{if(!(24<=e&&e<=255))throw new RangeError("Invalid i8");this._u8(56),this._u8(e)}return this}i16(e){if(e>=0)return this._u16(e),this;if(0<=(e=-1-e)&&e<=23)this._u8(32|e);else if(24<=e&&e<=255)this._u8(56),this._u8(e);else{if(!(256<=e&&e<=65535))throw new RangeError("Invalid i16");this._u8(57),this._u16(e)}return this}i32(e){if(e>=0)return this._u32(e),this;if(0<=(e=-1-e)&&e<=23)this._u8(32|e);else if(24<=e&&e<=255)this._u8(56),this._u8(e);else if(256<=e&&e<=65535)this._u8(57),this._u16(e);else{if(!(65536<=e&&e<=4294967295))throw new RangeError("Invalid i32");this._u8(58),this._u32(e)}return this}i64(e){if(e>=0)return this._u64(e),this;if(0<=(e=-1-e)&&e<=23)this._u8(32|e);else if(24<=e&&e<=255)this._u8(56),this._u8(e);else if(256<=e&&e<=65535)this._u8(57),this._u16(e);else if(65536<=e&&e<=4294967295)this._u8(58),this._u32(e);else{if(!(e<=Number.MAX_SAFE_INTEGER))throw new RangeError("Invalid i64");this._u8(59),this._u64(e)}return this}f32(e){return this._u8(250),this._f32(e),this}f64(e){return this._u8(251),this._f64(e),this}bool(e){return this._u8(224|(e?21:20)),this}bytes(e){return this._write_type_and_len(s.Type.BYTES,e.byteLength),this._bytes(e),this}text(e){const t=unescape(encodeURIComponent(e));return this._write_type_and_len(s.Type.TEXT,t.length),this._bytes(new Uint8Array(t.split("").map(e=>e.charCodeAt(0)))),this}null(){return this._u8(246),this}undefined(){return this._u8(247),this}array(e){return this._write_type_and_len(s.Type.ARRAY,e),this}array_begin(){return this._u8(159),this}array_end(){return this._u8(255),this}object(e){return this._write_type_and_len(s.Type.OBJECT,e),this}object_begin(){return this._u8(191),this}object_end(){return this._u8(255),this}}}]);
//# sourceMappingURL=cbor.bundle.js.map